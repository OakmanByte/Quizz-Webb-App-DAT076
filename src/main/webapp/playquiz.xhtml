<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:h="http://java.sun.com/jsf/html"
       xmlns:f="http://java.sun.com/jsf/core"
       xmlns:p="http://primefaces.org/ui"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets">


    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>

        <ui:composition template="WEB-INF/template/common.xhtml">
            <ui:define name="content">
                <link rel="stylesheet" type = "text/css" href="quiz.css"> </link> 
                <h:form id="questionform">
                    <h3 class="quizQuestion">#{playQuizBackingBean.getcurrentQuestion().question} </h3>
                    <div>
                        <div class="gameStatsDiv">
                            <h3 class ="gameStatsText">Question: #{playQuizBackingBean.currentQuestionIndex + 1} / #{playQuizBackingBean.questions.size()} </h3>
                        </div>

                        <div class="gameStatsDiv">
                            <h3 class ="gameStatsText">Points: #{playQuizBackingBean.points} / #{playQuizBackingBean.maximumpoints}</h3>
                        </div>

                        <div class="gameStatsDiv">
                            <h3 class="gameStatsText">
                                <h:outputText id="txt_count" value="Time left: #{playQuizBackingBean.timer} seconds"/>
                            </h3>
                            <p:poll interval="1" listener="#{playQuizBackingBean.decrementTimer()}" update="txt_count"  />
                        </div>
                    </div>


                    <div class="card">
                        <p:column>
                            <p:commandButton value="#{playQuizBackingBean.getcurrentQuestion().alt1}"  action="#{playQuizController.onAnswer(1)}" update="@form" disabled="#{ (playQuizBackingBean.currentQuestionAnswered and !playQuizBackingBean.isCorrectAnswer(1))}" icon ="fa fa-fw fa-diamond" style="margin-left: 20px; word-wrap: break-word; background-color: goldenrod; font-size: 20px; font-weight: bold; width: 30em; height: 10em " />
                        </p:column>
                        <p:column>
                            <p:commandButton value="#{playQuizBackingBean.getcurrentQuestion().alt2}" action="#{playQuizController.onAnswer(2)}" update="@form" disabled="#{playQuizBackingBean.currentQuestionAnswered and !playQuizBackingBean.isCorrectAnswer(2)}" icon="fa fa-fw fa-briefcase" style="margin-left: 20px; word-wrap: break-word; background-color: green; font-size: 20px; font-weight: bold; width: 30em; height: 10em;" />
                        </p:column>
                    </div>

                    <div class="growlStyle">
                        <p:growl id="growl" showDetail="true" life="5000" keepAlive="true"/>
                    </div>

                    <div class="card">
                        <p:column>
                            <p:commandButton value="#{playQuizBackingBean.getcurrentQuestion().alt3}" action="#{playQuizController.onAnswer(3)}" update="@form" disabled="#{playQuizBackingBean.currentQuestionAnswered and !playQuizBackingBean.isCorrectAnswer(3)}" icon="fa fa-fw fa-android" style="margin-left: 20px; word-wrap: break-word; background-color: red; font-size: 20px; font-weight: bold; width: 30em; height: 10em" />
                        </p:column>
                        <p:column>
                            <p:commandButton value="#{playQuizBackingBean.getcurrentQuestion().alt4}" action="#{playQuizController.onAnswer(4)}" update="@form" disabled="#{playQuizBackingBean.currentQuestionAnswered and !playQuizBackingBean.isCorrectAnswer(4)}" icon="fa fa-fw fa-bank" style="margin-left: 20px; word-wrap: break-word; background-color: blue; font-size: 20px; font-weight: bold; width: 30em; height: 10em" />
                        </p:column>
                    </div>

                    <div class="card" id="moddedCard">
                        <p:column>
                            <p:commandButton value="Next question" action="#{playQuizController.nextQuestion()}" disabled="#{!playQuizBackingBean.currentQuestionAnswered or playQuizBackingBean.finished}" icon="fa fa-fw fa-arrow-right" update="@form" />
                        </p:column>

                        <p:column>
                            <p:commandButton action="#{playQuizBackingBean.add()}" icon="fa fa-fw fa-arrow-right" value="End quiz" disabled="#{!playQuizBackingBean.finished}"> 
                                <f:param name="quizId" value="#{playQuizBackingBean.quizId}"/>
                                <f:param name="points" value="#{playQuizBackingBean.points}"/>
                            </p:commandButton>                        
                        </p:column>
                    </div>

                </h:form>
            </ui:define>
        </ui:composition>

    </h:body>


</html>

