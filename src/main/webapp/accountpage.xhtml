<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:o="http://omnifaces.org/ui">


    <h:head>
        <title>My Account</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" type = "text/css" href="accountpage.css"> </link> 
    </h:head>
    <body>       
        <section class="profile">
            <header class="header">
                <div class="details">

                    <h:form enctype="multipart/form-data">
                        <h:panelGrid columns="3">
                            <o:outputLabel for="file" value="Image" />
                            <o:inputFile id="file" value="#{uploadImageBean.file}" 
                                         accept="image/*" acceptMessage="Wrong file type! Should match {2}"
                                         maxsize="#{1024 * 1024}" maxsizeMessage="File too large! Should be no more than {2}">
                                <f:ajax listener="#{uploadImageBean.read()}" render="@form" />
                            </o:inputFile>
                            <h:message id="file_m" for="file" />
                        </h:panelGrid>

                        <o:graphicImage value="#{userBean.account.profilePicture}" dataURI="true" width="600" 
                                        rendered="#{not empty userBean.account.profilePicture}" class="profile-pic"/> 
                    </h:form>

                    <h1 class="heading">#{userBean.account.username}</h1>
                    <div class="location">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12 ,2Z"></path>
                        </svg>
                        <p>Pyongyang, North Korea</p>
                    </div>
                    <div class="stats">
                        <div class="col-4">
                            <h4>Age</h4>
                            <p>#{userBean.account.age}</p>
                        </div>
                        <div class="col-4">
                            <h4>Role</h4>
                            <p>#{userBean.account.userrole}</p>
                        </div>
                        <div class="col-4">
                            <h4>Favorite Category</h4>
                            <p>#{userBean.account.favoritecategory}</p>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <h:button id = "goToQuizzPage" value = "Go to quiz list" outcome = "quizlist" styleClass="standardbutton" />
                    <h:button id = "goToAccountSettingsPage" value = "Account settings" outcome = "accountsettingspage" styleClass="standardbutton" />
                    <h:form>
                        <h:commandButton id = "logoutButton" value = "Logout" action="#{loginController.logout}" styleClass="standardbutton" />
                    </h:form>
                    <h:button value="Create New Quiz" outcome = "createquiz" />
                </div>
            </header>
        </section>


    </body>
</html>
